<!doctype html>
	<head>
		<title> Java script Form </title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	</head>
	
	<body>
		<div id="div1" class="main"></div>
	</body>
	<style>
			.tbl{
				width:800px;
				margin:0 auto;
			}
			.btn {
				width:60px;
	  			display:inline-block;
	   			margin-left:80vw;
	 			margin-top: 150px;
			}

			/* The Modal (background) */
			.modal {
			    display: none; /* Hidden by default */
			    position: fixed; /* Stay in place */
			    z-index: 1; /* Sit on top */
			    padding-top: 100px; /* Location of the box */
			    left: 0;
			    top: 0;
			    width: 100%; /* Full width */
			    height: 100%; /* Full height */
			    overflow: auto; /* Enable scroll if needed */
			    background-color: rgb(0,0,0); /* Fallback color */
			    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
			}

			/* Modal Content */
			.modal-content {
			    background-color: #fefefe;
			    margin: auto;
			    padding: 20px;
			    border: 1px solid #888;
			    width: 80%;
			}

			/* The Close Button */
			.close {
			    color: #aaaaaa;
			    float: right;
			    font-size: 28px;
			    font-weight: bold;
			}

			.close:hover,
			.close:focus {
			    color: #000;
			    text-decoration: none;
			    cursor: pointer;
			}
	</style>
	<script>

		function NewPage(){
			// creating the title
			this.title = document.createElement("h1");
			this.title.setAttribute("class", "w3-container w3-teal" );
			this.titleNode = document.createTextNode("This is a Javascript Form");

			this.title.appendChild(this.titleNode);

			this.button = document.createElement("a");
			this.button.setAttribute("id", "editBtn" );
			this.button.setAttribute("class", "w3-btn w3-teal btn" );

			this.buttonNode = document.createTextNode("Edit");

			this.button.appendChild(this.buttonNode);
			
			//creating the table
			var table = document.createElement('table');
			table.setAttribute("class", "w3-table-all w3-large tbl" );
			var row = table.insertRow(0);
			var col = row.insertCell(0);
			col.innerHTML ="";
			
			//create a new row
			row = table.insertRow(0);
			col = row.insertCell(0);
			col.innerHTML ="";
			
			//create another row
			row = table.insertRow(0);
			col = row.insertCell(0);
			col.innerHTML ="You can change the table by pressing edit";

			//The Modal Div
			this.modal = document.createElement("div");
			this.modal.setAttribute("id", "myModal" );
			this.modal.setAttribute("class", "modal" );

			this.modalContent = document.createElement("div");
			this.modalContent.setAttribute("class", "modal-content" );

			this.modalSpan = document.createElement("span");
			this.modalSpan.setAttribute("class", "close" );
			this.modalSpanNode = document.createTextNode("X");
			this.modalSpan.appendChild(this.modalSpanNode);

			//Modal form to pass data
			this.modalForm = document.createElement("Form");
			this.modalForm.setAttribute("class", "w3-container w3-teal" );
			
			// text input form
			this.modalFormPara = document.createElement("p");
			this.modalFormLabel = document.createElement("label");
			this.modalFormLabelNode = document.createTextNode("field 1");
			this.modalFormTxtInput = document.createElement("INPUT");
			this.modalFormTxtInput.setAttribute("class", "w3-input ");
			this.modalFormTxtInput.setAttribute("type", "text");
			
			//put text into label
			this.modalFormLabel.appendChild(this.modalFormLabelNode);
			
			//put elements into paragraph
			this.modalFormPara.appendChild(this.modalFormLabel);
			this.modalFormPara.appendChild(this.modalFormTxtInput);

			this.modalFormPara2 = document.createElement("p");
			this.modalFormLabel2 = document.createElement("label");
			this.modalFormLabel2Node = document.createTextNode("field 2");
			this.modalFormTxtInput2 = document.createElement("INPUT");
			this.modalFormTxtInput2.setAttribute("class", "w3-input ");
			this.modalFormTxtInput2.setAttribute("type", "text");
			
			//put text into label
			this.modalFormLabel2.appendChild(this.modalFormLabel2Node);
			
			//put elements into paragraph
			this.modalFormPara2.appendChild(this.modalFormLabel2);
			this.modalFormPara2.appendChild(this.modalFormTxtInput2);



			this.modalFormPara3 = document.createElement("p");
			this.modalFormLabel3 = document.createElement("label");
			this.modalFormLabel3Node = document.createTextNode("field 3");
			this.modalFormTxtInput3 = document.createElement("INPUT");
			this.modalFormTxtInput3.setAttribute("class", "w3-input ");
			this.modalFormTxtInput3.setAttribute("type", "text");
			
			//put text  into label
			this.modalFormLabel3.appendChild(this.modalFormLabel3Node);
			
			//put elements into paragraph
			this.modalFormPara3.appendChild(this.modalFormLabel3);
			this.modalFormPara3.appendChild(this.modalFormTxtInput3);

			//putting paragraphs into modal form
			this.modalForm.appendChild(this.modalFormPara);
			this.modalForm.appendChild(this.modalFormPara2);
			this.modalForm.appendChild(this.modalFormPara3);

			// create buttons
			this.modalFormSave = document.createElement("a");
			this.modalFormSave.setAttribute("id", "save" );
			this.modalFormSave.setAttribute("class", "save w3-button w3-red");
			this.modalFormSaveNode = document.createTextNode("Save");
			this.modalFormCancel = document.createElement("a");
			this.modalFormCancel.setAttribute("id", "cancel" );
			this.modalFormCancel.setAttribute("class", "cancel w3-button w3-black");
			this.modalFormCancelNode = document.createTextNode("Close");
			
			// add text to buttons
			this.modalFormSave.appendChild(this.modalFormSaveNode);	
			this.modalFormCancel.appendChild(this.modalFormCancelNode); 
			
			// add buttons to form
			this.modalForm.appendChild(modalFormSave);
			this.modalForm.appendChild(modalFormCancel);

			// add buttons to 
			// appending to the content
			this.modalContent.appendChild(this.modalSpan);
			this.modalContent.appendChild(this.modalForm);
			

			this.modal.appendChild(this.modalContent);

			// append items to dive element 
			var element = document.getElementById("div1");
			document.getElementById("div1").appendChild(this.title);
			document.getElementById("div1").appendChild(this.button);
			document.getElementById("div1").appendChild(table);
			document.getElementById("div1").appendChild(this.modal);

		}
		//function to open the edit window
		function openWin(){
			var modal = document.getElementById('myModal');
			modal.style.display = "block";

		}
		//function to open the edit window
		function closeWin(){
			var modal = document.getElementById('myModal');
			modal.style.display = "none";

		}
		//function to save doc
		function saveDoc(){
			//grab the inputs from modal set variables
			 var input3 = modalFormTxtInput3.value;
			 var input2 = modalFormTxtInput2.value;
			 var input = modalFormTxtInput.value;
			 var all = input + input2 + input3;
			 
			 // send the data to the table
			 document.getElementsByTagName("td")[0].innerHTML = input;
			 document.getElementsByTagName("td")[1].innerHTML = input2;
			 document.getElementsByTagName("td")[2].innerHTML = input3;
			 
			 //close the modal
			 closeWin();

		}

		// function containing other functions to load on start 
		function start(){
			NewPage();
			//Click open Modal
			document.getElementById("editBtn").addEventListener("click", openWin);
			
			//Click close Modal
			var span = document.getElementsByClassName("close")[0];
			span.addEventListener("click", closeWin);

			//Click save button 
			document.getElementById("save").addEventListener("click", saveDoc);

			//Click cancel button 
			document.getElementById("cancel").addEventListener("click", closeWin);

		}
		// loads any functions stored in start on window load
		window.onload = start();
		
		
	</script>
</html>
